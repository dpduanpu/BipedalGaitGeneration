(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     58381,       1377]
NotebookOptionsPosition[     55479,       1312]
NotebookOutlinePosition[     55852,       1328]
CellTagsIndexPosition[     55809,       1325]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Begin Package", "Section",
 CellChangeTimes->{{3.5914870039053636`*^9, 
  3.591487004222381*^9}},ExpressionUUID->"996c692c-ebf2-4ec1-9b5e-\
1c01a05d498e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"BeginPackage", "[", 
   RowBox[{"\"\<BipedalLocomotion`HumanWalker`\>\"", ",", " ", 
    RowBox[{"{", "\"\<RigidBodyDynamics`\>\"", "}"}]}], "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.5844197483839703`*^9, {3.5844250604318256`*^9, 3.5844250721475377`*^9}, {
   3.5844251233785*^9, 3.5844251234877005`*^9}, {3.5844253988774505`*^9, 
   3.5844254390946617`*^9}, {3.5844254919948354`*^9, 3.5844254990149255`*^9}, 
   3.584425543397398*^9, {3.584425574800518*^9, 3.584425581945394*^9}, {
   3.5844256737523947`*^9, 3.5844257230957055`*^9}, {3.5844279668250203`*^9, 
   3.5844279860756264`*^9}, {3.584428374816189*^9, 3.584428378919037*^9}, {
   3.5914865865694637`*^9, 3.591486626255737*^9}, {3.5914867823906765`*^9, 
   3.5914867827646985`*^9}, {3.591486817520689*^9, 3.5914868205858636`*^9}, {
   3.591486965884186*^9, 3.5914869664642324`*^9}, {3.5915022447717495`*^9, 
   3.5915022459698176`*^9}, {3.591542902441803*^9, 3.591542929051241*^9}, {
   3.59154329988008*^9, 3.591543327692632*^9}, 3.5915439898189273`*^9, {
   3.5915443331789765`*^9, 3.5915443348977413`*^9}, {3.591544409656703*^9, 
   3.591544412687962*^9}, {3.591721260928192*^9, 3.591721326772053*^9}, {
   3.5922422663532963`*^9, 3.592242267056429*^9}, {3.5922818277082567`*^9, 
   3.59228183637475*^9}, {3.593367625062662*^9, 3.5933676251720285`*^9}, {
   3.704468357519539*^9, 3.704468459841198*^9}, {3.7044685529026203`*^9, 
   3.704468620873731*^9}, {3.7044692938575964`*^9, 3.704469294201355*^9}, {
   3.7044693718565884`*^9, 3.7044694237922263`*^9}, 3.7044696047095137`*^9, {
   3.704469723121451*^9, 3.7044697494763565`*^9}, {3.7044713775105753`*^9, 
   3.7044713779682055`*^9}, {3.71007627184459*^9, 3.7100763129700594`*^9}, {
   3.710085252492481*^9, 3.710085269273345*^9}, {3.710085701211694*^9, 
   3.710085704820245*^9}, {3.71008573624848*^9, 3.7100857468419538`*^9}, {
   3.7100858618232365`*^9, 3.710085866727702*^9}, {3.710085919261855*^9, 
   3.7100859355283422`*^9}, {3.7100860101270795`*^9, 3.710086010815563*^9}, {
   3.7100862247653303`*^9, 3.7100862253687563`*^9}, {3.7100876279638534`*^9, 
   3.7100876368821716`*^9}, {3.710247193222289*^9, 3.710247196972357*^9}, {
   3.710249077736276*^9, 3.710249078486265*^9}, {3.719112887775036*^9, 
   3.719112914478425*^9}, {3.719112998854257*^9, 3.719113000323023*^9}, {
   3.7191136395085473`*^9, 3.719113649164892*^9}, 3.719114879496228*^9, {
   3.7192011247884035`*^9, 3.7192011277727957`*^9}, {3.7192296580574007`*^9, 
   3.719229673151224*^9}, {3.7192816589156504`*^9, 3.7192816633531713`*^9}, {
   3.7193169534786367`*^9, 3.719316953853657*^9}, {3.719336319403597*^9, 
   3.719336334153718*^9}, {3.7193364584516335`*^9, 3.719336463561051*^9}, {
   3.71950185152522*^9, 3.719501861181549*^9}, {3.7195019833075695`*^9, 
   3.7195020203343954`*^9}, {3.719530068564412*^9, 3.7195300955490136`*^9}, {
   3.7195306954134054`*^9, 3.719530696085286*^9}, {3.7196226368983707`*^9, 
   3.7196226373983574`*^9}, {3.719622769920648*^9, 3.7196227709987993`*^9}, {
   3.719622836655593*^9, 3.7196228393431067`*^9}, {3.7196228809997025`*^9, 
   3.7196229038124104`*^9}, {3.719623361599256*^9, 3.7196233961464024`*^9}, {
   3.720203653194683*^9, 3.7202036886481295`*^9}, {3.7202037272266207`*^9, 
   3.7202037320391674`*^9}, {3.7414440004514513`*^9, 3.741444006433633*^9}, {
   3.741620367738707*^9, 3.7416203710041447`*^9}, {3.7420864860243397`*^9, 
   3.742086490789609*^9}, {3.742086618971839*^9, 3.7420866206123466`*^9}, {
   3.7421607351446924`*^9, 3.7421607444096594`*^9}, 3.742161076509819*^9, 
   3.750528551445386*^9, 3.7505288639197006`*^9, {3.750529148992319*^9, 
   3.7505291506952825`*^9}, {3.750529448313177*^9, 3.750529508792577*^9}, 
   3.7505302776367903`*^9, {3.750530460904834*^9, 3.7505304666856556`*^9}, 
   3.75053051610395*^9},ExpressionUUID->"98c8779e-ffda-484e-b0c8-\
e98c7ad7c11e"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Load Dumas' et al. excel file", "Section",
 CellChangeTimes->{{3.7208077897274356`*^9, 3.7208077941180954`*^9}, {
  3.7208110504247227`*^9, 3.720811050955966*^9}, {3.7421607628904915`*^9, 
  3.742160773670963*^9}, {3.742161088493343*^9, 
  3.7421610918524933`*^9}},ExpressionUUID->"8d07251a-a46c-4645-bdeb-\
de6cbedcac53"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"fil", " ", "=", " ", "\"\<HumanWalker/human.xlsx\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"T1", " ", "=", " ", 
   RowBox[{"Import", "[", 
    RowBox[{"fil", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<Data\>\"", ",", "1"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"T2", " ", "=", " ", 
   RowBox[{"Import", "[", 
    RowBox[{"fil", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<Data\>\"", ",", "2"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"T1c", " ", "=", " ", 
   RowBox[{"Import", "[", 
    RowBox[{"fil", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<Data\>\"", ",", "4"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"T2c", " ", "=", " ", 
   RowBox[{"Import", "[", 
    RowBox[{"fil", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<Data\>\"", ",", "5"}], "}"}]}], "]"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.720811035533951*^9, {3.742160792146479*^9, 3.742160859501021*^9}, {
   3.742161088508966*^9, 3.7421610885245905`*^9}, {3.742161150608001*^9, 
   3.74216117471566*^9}, {3.750528343935499*^9, 3.750528353142048*^9}, {
   3.7505284554368205`*^9, 3.750528455749298*^9}, {3.750528667300886*^9, 
   3.750528677456394*^9}, 3.750530398883749*^9, {3.7505304345491*^9, 
   3.7505304352990274`*^9}, {3.750530513182225*^9, 3.7505305431019106`*^9}, {
   3.7505346768780375`*^9, 
   3.7505346850805583`*^9}},ExpressionUUID->"dcebc895-bfc4-44bb-98c1-\
671afd1abee8"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Convert Quantities", "Section",
 CellChangeTimes->{{3.7208077897274356`*^9, 3.7208077941180954`*^9}, {
  3.7208110504247227`*^9, 3.720811050955966*^9}, {3.7421607628904915`*^9, 
  3.742160773670963*^9}, {3.742161088493343*^9, 3.7421610918524933`*^9}, {
  3.742161222897289*^9, 
  3.742161230646683*^9}},ExpressionUUID->"5f74f35f-ddd0-4858-9ea4-\
f4d186a06abe"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"mm", " ", "to", " ", "m"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"f", " ", "=", " ", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"NumericQ", "[", "#", "]"}], ",", " ", 
        RowBox[{"#", "/", "1000"}], ",", " ", "#"}], "]"}], "&"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"T1", "\[LeftDoubleBracket]", 
      RowBox[{
       RowBox[{"4", ";;", "48"}], ",", "  ", 
       RowBox[{"3", ";;", "8"}]}], "\[RightDoubleBracket]"}], " ", "=", " ", 
     RowBox[{"Map", "[", 
      RowBox[{"f", ",", " ", 
       RowBox[{"T1", "\[LeftDoubleBracket]", 
        RowBox[{
         RowBox[{"4", ";;", "48"}], ",", "  ", 
         RowBox[{"3", ";;", "8"}]}], "\[RightDoubleBracket]"}], ",", " ", 
       RowBox[{"{", "2", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"T1c", "\[LeftDoubleBracket]", 
      RowBox[{
       RowBox[{"3", ";;", "6"}], ",", "  ", 
       RowBox[{"3", ";;", "8"}]}], "\[RightDoubleBracket]"}], " ", "=", " ", 
     RowBox[{"Map", "[", 
      RowBox[{"f", ",", " ", 
       RowBox[{"T1c", "\[LeftDoubleBracket]", 
        RowBox[{
         RowBox[{"3", ";;", "6"}], ",", "  ", 
         RowBox[{"3", ";;", "8"}]}], "\[RightDoubleBracket]"}], ",", " ", 
       RowBox[{"{", "2", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"T2", "\[LeftDoubleBracket]", 
      RowBox[{
       RowBox[{"3", ";;", "35"}], ",", " ", "5"}], "\[RightDoubleBracket]"}], 
     " ", "=", " ", 
     RowBox[{"f", " ", "/@", " ", 
      RowBox[{"T2", "\[LeftDoubleBracket]", 
       RowBox[{
        RowBox[{"3", ";;", "35"}], ",", " ", "5"}], 
       "\[RightDoubleBracket]"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"T2c", "\[LeftDoubleBracket]", 
      RowBox[{
       RowBox[{"3", ";;", "4"}], ",", " ", "5"}], "\[RightDoubleBracket]"}], 
     " ", "=", " ", 
     RowBox[{"f", " ", "/@", " ", 
      RowBox[{"T2c", "\[LeftDoubleBracket]", 
       RowBox[{
        RowBox[{"3", ";;", "4"}], ",", " ", "5"}], 
       "\[RightDoubleBracket]"}]}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"i", " ", "to", " ", "I"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"f", " ", "=", " ", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"StringQ", "@", "#"}], " ", "&&", " ", 
         RowBox[{"StringContainsQ", "[", 
          RowBox[{"#", ",", " ", "\"\<i\>\""}], "]"}]}], ",", " ", 
        RowBox[{"N", "@", 
         RowBox[{"ToExpression", "@", 
          RowBox[{"ToUpperCase", "@", "#"}]}]}], ",", " ", "#"}], "]"}], 
      "&"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"T2", "\[LeftDoubleBracket]", 
      RowBox[{
       RowBox[{"3", ";;", "35"}], ",", "  ", 
       RowBox[{"10", ";;", "15"}]}], "\[RightDoubleBracket]"}], " ", "=", " ", 
     RowBox[{"Map", "[", 
      RowBox[{"f", ",", " ", 
       RowBox[{"T2", "\[LeftDoubleBracket]", 
        RowBox[{
         RowBox[{"3", ";;", "35"}], ",", "  ", 
         RowBox[{"10", ";;", "15"}]}], "\[RightDoubleBracket]"}], ",", " ", 
       RowBox[{"{", "2", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"T2c", "\[LeftDoubleBracket]", 
      RowBox[{
       RowBox[{"3", ";;", "4"}], ",", "  ", 
       RowBox[{"10", ";;", "15"}]}], "\[RightDoubleBracket]"}], " ", "=", " ", 
     RowBox[{"Map", "[", 
      RowBox[{"f", ",", " ", 
       RowBox[{"T2c", "\[LeftDoubleBracket]", 
        RowBox[{
         RowBox[{"3", ";;", "4"}], ",", "  ", 
         RowBox[{"10", ";;", "15"}]}], "\[RightDoubleBracket]"}], ",", " ", 
       RowBox[{"{", "2", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"%", " ", "to", " ", "frac"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"f", " ", "=", " ", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"NumericQ", "[", "#", "]"}], ",", " ", 
        RowBox[{"#", "/", "100"}], ",", " ", "#"}], "]"}], "&"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"T2", "\[LeftDoubleBracket]", 
      RowBox[{
       RowBox[{"3", ";;", "35"}], ",", "  ", 
       RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}], " ", "=", " ", 
     RowBox[{"Map", "[", 
      RowBox[{"f", ",", " ", 
       RowBox[{"T2", "\[LeftDoubleBracket]", 
        RowBox[{
         RowBox[{"3", ";;", "35"}], ",", "  ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}], ",", " ", 
       RowBox[{"{", "2", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"T2c", "\[LeftDoubleBracket]", 
      RowBox[{
       RowBox[{"3", ";;", "4"}], ",", "  ", 
       RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}], " ", "=", " ", 
     RowBox[{"Map", "[", 
      RowBox[{"f", ",", " ", 
       RowBox[{"T2c", "\[LeftDoubleBracket]", 
        RowBox[{
         RowBox[{"3", ";;", "4"}], ",", "  ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}], ",", " ", 
       RowBox[{"{", "2", "}"}]}], "]"}]}], ";"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7421341580225277`*^9, 3.7421342064804606`*^9}, {
   3.7421342792725863`*^9, 3.742134316848025*^9}, {3.742134507584326*^9, 
   3.742134518974142*^9}, {3.742134558158857*^9, 3.7421345963123927`*^9}, {
   3.7421347892986736`*^9, 3.742134799313551*^9}, {3.7421364355542145`*^9, 
   3.74213643594481*^9}, {3.742136668022069*^9, 3.742136668225174*^9}, {
   3.7421367043788524`*^9, 3.7421367179403486`*^9}, {3.742136838085764*^9, 
   3.742136840616842*^9}, {3.742136875847315*^9, 3.74213694600527*^9}, {
   3.7421369820860567`*^9, 3.742136992116886*^9}, {3.7421370236112895`*^9, 
   3.742137065287525*^9}, 3.742139502053199*^9, {3.7421402508598485`*^9, 
   3.7421402616142244`*^9}, {3.7421472977929597`*^9, 
   3.7421473103701906`*^9}, {3.742147825277049*^9, 3.7421478291204815`*^9}, {
   3.742158340734231*^9, 3.7421583448901253`*^9}, {3.7421584695577245`*^9, 
   3.742158525670267*^9}, {3.742158612775392*^9, 3.7421590152331247`*^9}, {
   3.7421590518637843`*^9, 3.742159067143953*^9}, {3.7421591445446835`*^9, 
   3.7421592613373404`*^9}, {3.742159294881839*^9, 3.7421593264733047`*^9}, {
   3.7421593632675676`*^9, 3.7421593642831335`*^9}, {3.7421594242334223`*^9, 
   3.7421594329358964`*^9}, {3.742161212116739*^9, 3.742161212460478*^9}, {
   3.7421690244528646`*^9, 3.742169026015238*^9}, 3.742338753936592*^9, 
   3.7423390806971135`*^9, 3.7505304033169947`*^9},
 CellLabel->"In[14]:=",ExpressionUUID->"19ea9dc2-f670-4407-92be-5ec47acad264"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Joint Centers", "Section",
 CellChangeTimes->{{3.7208077897274356`*^9, 3.7208077941180954`*^9}, {
  3.7208110504247227`*^9, 3.720811050955966*^9}, {3.7421607628904915`*^9, 
  3.742160773670963*^9}, {3.742161088493343*^9, 3.7421610918524933`*^9}, {
  3.742161222897289*^9, 3.742161230646683*^9}, {3.742161297563803*^9, 
  3.742161299329297*^9}},ExpressionUUID->"0702053b-35e1-44c8-9c28-\
bf99eb451934"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"joint", " ", "centers"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"JC", " ", "=", " ", 
     RowBox[{"<|", "|>"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"pelvis", ":", " ", 
     RowBox[{"ljc", " ", "to", " ", "hjc"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"JC", "[", "\"\<LJC to HJC\>\"", "]"}], " ", "=", " ", 
     RowBox[{"T1", "\[LeftDoubleBracket]", 
      RowBox[{"33", ",", " ", 
       RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"pelvis", ":", " ", 
     RowBox[{"ljc", " ", "to", " ", "cjc"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"JC", "[", "\"\<LJC to CJC\>\"", "]"}], " ", "=", " ", 
     RowBox[{"-", 
      RowBox[{"T1", "\[LeftDoubleBracket]", 
       RowBox[{"12", ",", " ", 
        RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"torso", ":", " ", 
     RowBox[{"cjc", " ", "to", " ", "sjc"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"JC", "[", "\"\<CJC to SJC\>\"", "]"}], " ", "=", " ", 
     RowBox[{"T1", "\[LeftDoubleBracket]", 
      RowBox[{"11", ",", " ", 
       RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"arm", ":", " ", 
     RowBox[{"sjc", " ", "to", " ", "ejc"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"midpoint", " ", "of"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"JC", "[", "\"\<SJC to EJC\>\"", "]"}], " ", "=", " ", 
     RowBox[{
      RowBox[{"Total", "[", 
       RowBox[{"T1", "\[LeftDoubleBracket]", 
        RowBox[{
         RowBox[{"15", ";;", "16"}], ",", " ", 
         RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}], "]"}], "/", 
      "2"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"forearm", ":", " ", 
     RowBox[{"ejc", " ", "to", " ", "wjc"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"midpoint", " ", "of"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"JC", "[", "\"\<EJC to WJC\>\"", "]"}], " ", "=", " ", 
     RowBox[{
      RowBox[{"Total", "[", 
       RowBox[{"T1", "\[LeftDoubleBracket]", 
        RowBox[{
         RowBox[{"19", ";;", "20"}], ",", " ", 
         RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}], "]"}], "/", 
      "2"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"thigh", ":", " ", 
     RowBox[{"hjc", " ", "to", " ", "kjc"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"midpoint", " ", "of"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"JC", "[", "\"\<HJC to KJC\>\"", "]"}], " ", "=", " ", 
     RowBox[{
      RowBox[{"Total", "[", 
       RowBox[{"T1", "\[LeftDoubleBracket]", 
        RowBox[{
         RowBox[{"36", ";;", "37"}], ",", " ", 
         RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}], "]"}], "/", 
      "2"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"leg", ":", " ", 
     RowBox[{"kjc", " ", "to", " ", "ajc"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"midpoint", " ", "of"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"JC", "[", "\"\<KJC to AJC\>\"", "]"}], " ", "=", " ", 
     RowBox[{
      RowBox[{"Total", "[", 
       RowBox[{"T1", "\[LeftDoubleBracket]", 
        RowBox[{
         RowBox[{"41", ";;", "42"}], ",", " ", 
         RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}], "]"}], "/", 
      "2"}]}], ";"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.742143905098467*^9, 3.7421439964045143`*^9}, {
   3.74214411919044*^9, 3.7421441610936966`*^9}, {3.742144216558538*^9, 
   3.742144226792163*^9}, {3.7421442643887424`*^9, 3.742144399431754*^9}, {
   3.7421445767629128`*^9, 3.742144580434516*^9}, {3.7421450303553886`*^9, 
   3.7421450993772125`*^9}, {3.7421451314218082`*^9, 3.742145241856073*^9}, {
   3.7421453115583763`*^9, 3.74214534880573*^9}, {3.7421453843812647`*^9, 
   3.7421453955054903`*^9}, {3.7421581687881637`*^9, 3.742158181225229*^9}, {
   3.742158326266514*^9, 3.7421583266883492`*^9}, 3.742159461433878*^9, {
   3.7421613432793036`*^9, 3.742161344013626*^9}, 3.7505304108633127`*^9},
 CellLabel->"In[25]:=",ExpressionUUID->"3d8873ff-2b44-4b82-91d8-04a9165f3d18"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Points of Interest", "Section",
 CellChangeTimes->{{3.7208077897274356`*^9, 3.7208077941180954`*^9}, {
  3.7208110504247227`*^9, 3.720811050955966*^9}, {3.7421607628904915`*^9, 
  3.742160773670963*^9}, {3.742161088493343*^9, 3.7421610918524933`*^9}, {
  3.742161222897289*^9, 3.742161230646683*^9}, {3.742161303766487*^9, 
  3.7421613058600845`*^9}},ExpressionUUID->"1aa3b79a-c56e-4664-a1cd-\
3612fe7cc7e8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"points", " ", "of", " ", "interest"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"POI", " ", "=", " ", 
     RowBox[{"<|", "|>"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
     RowBox[{"head", " ", "&"}], " ", 
     RowBox[{"neck", ":", " ", 
      RowBox[{"cjc", " ", "to", " ", "hv"}]}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"POI", "[", "\"\<CJC to HV\>\"", "]"}], " ", "=", " ", 
     RowBox[{"T1c", "\[LeftDoubleBracket]", 
      RowBox[{"3", ",", " ", 
       RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"hand", ":", " ", 
     RowBox[{"wjc", " ", "to", " ", "ft3"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"POI", "[", "\"\<WJC to FT3\>\"", "]"}], " ", "=", " ", 
     RowBox[{"T1", "\[LeftDoubleBracket]", 
      RowBox[{"26", ",", " ", 
       RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"pelvis", ":", " ", "width"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"difference", " ", "of"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"T1", "\[LeftDoubleBracket]", 
     RowBox[{
      RowBox[{"30", ";;", "31"}], ",", " ", 
      RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"torso", ":", " ", 
     RowBox[{"thorax", " ", "width"}]}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"difference", " ", "of"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"T1", "\[LeftDoubleBracket]", 
     RowBox[{
      RowBox[{"8", ";;", "9"}], ",", " ", 
      RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
     RowBox[{"ankle", ":", " ", 
      RowBox[{"ajc", " ", "to", " ", "tt"}]}], ",", " ", "cal", ",", " ", 
     RowBox[{"&", " ", "mh"}]}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"POI", "[", "\"\<AJC to CAL\>\"", "]"}], " ", "=", " ", 
     RowBox[{"T1", "\[LeftDoubleBracket]", 
      RowBox[{"44", ",", " ", 
       RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"POI", "[", "\"\<AJC to MH1\>\"", "]"}], " ", "=", " ", 
     RowBox[{"T1", "\[LeftDoubleBracket]", 
      RowBox[{"45", ",", " ", 
       RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"POI", "[", "\"\<AJC to MH5\>\"", "]"}], " ", "=", " ", 
     RowBox[{"T1", "\[LeftDoubleBracket]", 
      RowBox[{"46", ",", " ", 
       RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"POI", "[", "\"\<AJC to TT2\>\"", "]"}], " ", "=", " ", 
     RowBox[{"T1", "\[LeftDoubleBracket]", 
      RowBox[{"47", ",", " ", 
       RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}], 
    ";"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7421445870746803`*^9, 3.7421446212909966`*^9}, {
   3.742144685469904*^9, 3.7421448131637764`*^9}, {3.7421581980521536`*^9, 
   3.7421582052235208`*^9}, {3.742158317267085*^9, 3.7421583179545555`*^9}, {
   3.7421613396389832`*^9, 3.7421613405451417`*^9}, {3.7422426242588882`*^9, 
   3.742242660225082*^9}, {3.742242711415001*^9, 3.7422427829879923`*^9}, 
   3.7505304143786793`*^9},
 CellLabel->"In[33]:=",ExpressionUUID->"42de7d82-384c-4865-853a-945459cae5a4"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Segment Lengths", "Section",
 CellChangeTimes->{{3.7208077897274356`*^9, 3.7208077941180954`*^9}, {
  3.7208110504247227`*^9, 3.720811050955966*^9}, {3.7421607628904915`*^9, 
  3.742160773670963*^9}, {3.742161088493343*^9, 3.7421610918524933`*^9}, {
  3.742161222897289*^9, 3.742161230646683*^9}, {3.7421613122502437`*^9, 
  3.742161314140751*^9}},ExpressionUUID->"f0f2763d-623f-4f79-beee-\
9ba7b909a7d2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"segment", " ", "length"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"SL", " ", "=", " ", 
     RowBox[{"<|", "|>"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Head & Neck\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{"POI", "[", "\"\<CJC to HV\>\"", "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Torso\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{"JC", "[", "\"\<LJC to CJC\>\"", "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Arm\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{"JC", "[", "\"\<SJC to EJC\>\"", "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Forearm\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{"JC", "[", "\"\<EJC to WJC\>\"", "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Hand\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{
       RowBox[{"Total", "[", 
        RowBox[{"T1", "\[LeftDoubleBracket]", 
         RowBox[{
          RowBox[{"24", ";;", "25"}], ",", " ", 
          RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}], "]"}], "/", 
       "2"}], "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Pelvis\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{
       RowBox[{"IdentityMatrix", "[", 
        RowBox[{"{", 
         RowBox[{"2", ",", "3"}], "}"}], "]"}], ".", 
       RowBox[{"JC", "[", "\"\<LJC to HJC\>\"", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Thigh\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{"JC", "[", "\"\<HJC to KJC\>\"", "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Leg\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{"JC", "[", "\"\<KJC to AJC\>\"", "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Foot\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{
       RowBox[{"Total", "[", 
        RowBox[{"T1", "\[LeftDoubleBracket]", 
         RowBox[{
          RowBox[{"45", ";;", "46"}], ",", " ", 
          RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}], "]"}], "/", 
       "2"}], "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"torso", " ", "width", " ", 
     RowBox[{"(", 
      RowBox[{"middle", " ", "of", " ", "chest", " ", "to", " ", "shoulder"}],
       ")"}]}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Torso - Alt.\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{
       RowBox[{"T1", "\[LeftDoubleBracket]", 
        RowBox[{"8", ",", " ", 
         RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}], "-", 
       RowBox[{"T1", "\[LeftDoubleBracket]", 
        RowBox[{"9", ",", " ", 
         RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"hand", " ", "width", " ", 
     RowBox[{"(", 
      RowBox[{"glove", " ", "size"}], ")"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Hand - Alt.\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{"POI", "[", "\"\<WJC to FT3\>\"", "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"pelvis", " ", "width"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Pelvis - Alt.\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{
       RowBox[{"T1", "\[LeftDoubleBracket]", 
        RowBox[{"30", ",", " ", 
         RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}], "-", 
       RowBox[{"T1", "\[LeftDoubleBracket]", 
        RowBox[{"31", ",", " ", 
         RowBox[{"3", ";;", "5"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"foot", " ", "width", " ", 
     RowBox[{"(", 
      RowBox[{"shoe", " ", "size"}], ")"}]}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SL", "[", "\"\<Foot - Alt.\>\"", "]"}], " ", "=", " ", 
     RowBox[{"Norm", "[", 
      RowBox[{
       RowBox[{"POI", "[", "\"\<AJC to CAL\>\"", "]"}], "-", 
       RowBox[{"POI", "[", "\"\<AJC to TT2\>\"", "]"}]}], "]"}]}], 
    ";"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.742145339540736*^9, 3.7421453752569246`*^9}, {
   3.7421454065047035`*^9, 3.7421454682503633`*^9}, {3.742145517077736*^9, 
   3.7421456249982677`*^9}, {3.742145656623332*^9, 3.742145804870635*^9}, 
   3.7421458460551944`*^9, {3.7421458831775866`*^9, 3.7421459116984687`*^9}, {
   3.7421461304118385`*^9, 3.742146165378099*^9}, {3.742147032744829*^9, 
   3.7421471638089137`*^9}, {3.742147213639148*^9, 3.742147268734435*^9}, {
   3.7421477830612435`*^9, 3.742147787029763*^9}, {3.7421613350142665`*^9, 
   3.742161335717342*^9}},
 CellLabel->"In[42]:=",ExpressionUUID->"d4047aa5-9d83-4233-b3a6-dba6ccdddd1d"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Body Segment Inertia Parameters", "Section",
 CellChangeTimes->{{3.7208077897274356`*^9, 3.7208077941180954`*^9}, {
  3.7208110504247227`*^9, 3.720811050955966*^9}, {3.7421607628904915`*^9, 
  3.742160773670963*^9}, {3.742161088493343*^9, 3.7421610918524933`*^9}, {
  3.742161222897289*^9, 3.742161230646683*^9}, {3.7421613204215527`*^9, 
  3.742161324874362*^9}},ExpressionUUID->"4d79654b-9369-4c59-8fcc-\
0971bd642143"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mcI", "[", 
    RowBox[{"mtot_", ",", " ", "Lseg_", ",", " ", "dat_"}], "]"}], " ", ":=", 
   " ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"m", ",", " ", "c", ",", " ", "r", ",", " ", "I"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"body", " ", "segment", " ", "mass"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"m", " ", "=", " ", 
       RowBox[{
        RowBox[{"dat", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}],
         " ", "mtot"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"body", " ", "segment", " ", "COM"}], " ", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"c", " ", "=", " ", 
       RowBox[{
        RowBox[{"dat", "\[LeftDoubleBracket]", 
         RowBox[{"2", ";;", "4"}], "\[RightDoubleBracket]"}], " ", "Lseg"}]}],
       ";", "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"body", " ", "segment", " ", "%", " ", "I"}], " ", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"r", " ", "=", " ", 
       RowBox[{"dat", "\[LeftDoubleBracket]", 
        RowBox[{"5", ";;", "10"}], "\[RightDoubleBracket]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"I", " ", "about", " ", "JC"}], " ", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"I", " ", "=", " ", 
       RowBox[{"m", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"r", "\[LeftDoubleBracket]", 
              RowBox[{"{", 
               RowBox[{"1", ",", " ", "4", ",", " ", "5"}], "}"}], 
              "\[RightDoubleBracket]"}], ",", " ", 
             RowBox[{"r", "\[LeftDoubleBracket]", 
              RowBox[{"{", 
               RowBox[{"4", ",", " ", "2", ",", " ", "6"}], "}"}], 
              "\[RightDoubleBracket]"}], ",", " ", 
             RowBox[{"r", "\[LeftDoubleBracket]", 
              RowBox[{"{", 
               RowBox[{"5", ",", " ", "6", ",", " ", "3"}], "}"}], 
              "\[RightDoubleBracket]"}]}], "}"}], " ", "Lseg"}], ")"}], "^", 
         "2"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"I", " ", "about", " ", "COM"}], " ", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"I", " ", "=", " ", 
         RowBox[{"I", " ", "+", " ", 
          RowBox[{"m", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"c", ".", "c"}], " ", 
              RowBox[{"IdentityMatrix", "[", "3", "]"}]}], " ", "-", " ", 
             RowBox[{"Outer", "[", 
              RowBox[{"Times", ",", " ", "c", ",", " ", "c"}], "]"}]}], 
            ")"}]}]}]}], ";"}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"Chop", "@", 
       RowBox[{"{", 
        RowBox[{"m", ",", " ", "c", ",", " ", "I"}], "}"}]}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7421508236026735`*^9, 3.742150853028096*^9}, {
   3.742150883570669*^9, 3.742150903286486*^9}, 3.7421509892408743`*^9, {
   3.7421511629000454`*^9, 3.7421511659935584`*^9}, {3.74215122928595*^9, 
   3.7421512313326817`*^9}, {3.742151267033267*^9, 3.7421516335192933`*^9}, {
   3.74215166652559*^9, 3.742151672009575*^9}, {3.7421517329271016`*^9, 
   3.7421517390204353`*^9}, {3.742151996819132*^9, 3.7421520128804893`*^9}, {
   3.7421520888080673`*^9, 3.7421523047614174`*^9}, 3.7421527010149803`*^9, {
   3.742152806622443*^9, 3.7421528206370735`*^9}, {3.7421529164427614`*^9, 
   3.742152945284461*^9}, {3.7421595124927425`*^9, 3.7421595831127234`*^9}, {
   3.742159713134748*^9, 3.742159719603017*^9}, {3.74215979828959*^9, 
   3.7421598170383015`*^9}, {3.7421598698307056`*^9, 3.742159876017766*^9}, {
   3.7421599807134323`*^9, 3.7421600066185637`*^9}, {3.742160087921668*^9, 
   3.7421601163259153`*^9}, {3.742160150870335*^9, 3.7421601758685684`*^9}, {
   3.7421602301303244`*^9, 3.7421602301928215`*^9}, {3.7421602756583385`*^9, 
   3.7421603381851435`*^9}, {3.7421604713788*^9, 3.742160471800703*^9}, 
   3.7422437227842607`*^9, {3.742340347085867*^9, 3.742340353319813*^9}, 
   3.7423403988083744`*^9},
 CellLabel->"In[56]:=",ExpressionUUID->"240cc57c-c84e-4f24-b278-dff0981e6437"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"body", " ", "segment", " ", "inertia", " ", "parameters"}], " ", 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"mtot", " ", "=", " ", "63.9"}], " ", ";"}], 
   RowBox[{"(*", " ", "kg", " ", "*)"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"BSIP", " ", "=", " ", 
     RowBox[{"<|", "|>"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"BSIP", "[", "\"\<Head & Neck\>\"", "]"}], " ", "=", " ", 
     RowBox[{"mcI", "[", 
      RowBox[{"mtot", ",", " ", 
       RowBox[{"SL", "[", "\"\<Head & Neck\>\"", "]"}], ",", " ", 
       RowBox[{"T2c", "\[LeftDoubleBracket]", 
        RowBox[{"3", ",", " ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"BSIP", "[", "\"\<Torso\>\"", "]"}], " ", "=", " ", 
     RowBox[{"mcI", "[", 
      RowBox[{"mtot", ",", " ", 
       RowBox[{"SL", "[", "\"\<Torso\>\"", "]"}], ",", " ", 
       RowBox[{"T2", "\[LeftDoubleBracket]", 
        RowBox[{"5", ",", " ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"BSIP", "[", "\"\<Arm\>\"", "]"}], " ", "=", " ", 
     RowBox[{"mcI", "[", 
      RowBox[{"mtot", ",", " ", 
       RowBox[{"SL", "[", "\"\<Arm\>\"", "]"}], ",", " ", 
       RowBox[{"T2", "\[LeftDoubleBracket]", 
        RowBox[{"7", ",", " ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"BSIP", "[", "\"\<Forearm\>\"", "]"}], " ", "=", " ", 
     RowBox[{"mcI", "[", 
      RowBox[{"mtot", ",", " ", 
       RowBox[{"SL", "[", "\"\<Forearm\>\"", "]"}], ",", " ", 
       RowBox[{"T2", "\[LeftDoubleBracket]", 
        RowBox[{"9", ",", " ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"BSIP", "[", "\"\<Hand\>\"", "]"}], " ", "=", " ", 
     RowBox[{"mcI", "[", 
      RowBox[{"mtot", ",", " ", 
       RowBox[{"SL", "[", "\"\<Hand\>\"", "]"}], ",", " ", 
       RowBox[{"T2", "\[LeftDoubleBracket]", 
        RowBox[{"11", ",", " ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"BSIP", "[", "\"\<Pelvis\>\"", "]"}], " ", "=", " ", 
     RowBox[{"mcI", "[", 
      RowBox[{"mtot", ",", " ", 
       RowBox[{"SL", "[", "\"\<Pelvis\>\"", "]"}], ",", " ", 
       RowBox[{"T2", "\[LeftDoubleBracket]", 
        RowBox[{"13", ",", " ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"BSIP", "[", "\"\<Thigh\>\"", "]"}], " ", "=", " ", 
     RowBox[{"mcI", "[", 
      RowBox[{"mtot", ",", " ", 
       RowBox[{"SL", "[", "\"\<Thigh\>\"", "]"}], ",", " ", 
       RowBox[{"T2", "\[LeftDoubleBracket]", 
        RowBox[{"15", ",", " ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"BSIP", "[", "\"\<Leg\>\"", "]"}], " ", "=", " ", 
     RowBox[{"mcI", "[", 
      RowBox[{"mtot", ",", " ", 
       RowBox[{"SL", "[", "\"\<Leg\>\"", "]"}], ",", " ", 
       RowBox[{"T2", "\[LeftDoubleBracket]", 
        RowBox[{"17", ",", " ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"BSIP", "[", "\"\<Foot\>\"", "]"}], " ", "=", " ", 
     RowBox[{"mcI", "[", 
      RowBox[{"mtot", ",", " ", 
       RowBox[{"SL", "[", "\"\<Foot\>\"", "]"}], ",", " ", 
       RowBox[{"T2", "\[LeftDoubleBracket]", 
        RowBox[{"19", ",", " ", 
         RowBox[{"6", ";;", "15"}]}], "\[RightDoubleBracket]"}]}], "]"}]}], 
    ";"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.742150666719222*^9, 3.7421506957952995`*^9}, {
  3.7421507494985666`*^9, 3.742150782902426*^9}, {3.742152347414635*^9, 
  3.7421525695004444`*^9}, {3.7421526174970493`*^9, 3.742152641307838*^9}, {
  3.7421526776104374`*^9, 3.7421527009993563`*^9}, {3.742152846275874*^9, 
  3.74215285197861*^9}, {3.742159680043332*^9, 3.742159682511904*^9}, {
  3.7421613303271465`*^9, 3.742161331420765*^9}},
 CellLabel->"In[57]:=",ExpressionUUID->"bc6b3446-474e-4baa-b292-9932279d74b0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Biped", "Section",
 CellChangeTimes->{{3.7208077897274356`*^9, 3.7208077941180954`*^9}, {
  3.7208110504247227`*^9, 3.720811050955966*^9}, {3.7421607628904915`*^9, 
  3.742160773670963*^9}, {3.742161088493343*^9, 3.7421610918524933`*^9}, {
  3.742161222897289*^9, 3.742161230646683*^9}, {3.7421613204215527`*^9, 
  3.742161324874362*^9}, {3.742169093572937*^9, 
  3.742169094885357*^9}},ExpressionUUID->"914aa82e-c1f3-468b-bdd4-\
34d75ead300d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Link", "[", 
    RowBox[{"n_", ",", " ", "p_", ",", " ", "S_", ",", " ", "f_"}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"a", ",", " ", "b", ",", " ", "c", ",", " ", "R"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"a", " ", "=", " ", 
       RowBox[{"{", 
        RowBox[{"n", ",", " ", "p", ",", " ", "S"}], "}"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"b", " ", "=", " ", 
       RowBox[{"PadLeft", "[", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"StringQ", "[", "f", "]"}], ",", " ", 
           RowBox[{"JC", "[", "f", "]"}], ",", " ", "f"}], "]"}], ",", " ", 
         "nm"}], "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"c", " ", "=", " ", 
       RowBox[{"BSIP", "[", 
        RowBox[{
         RowBox[{"StringSplit", "[", 
          RowBox[{"n", ",", " ", 
           RowBox[{"\"\<Right \>\"", "|", "\"\<Left \>\""}]}], "]"}], 
         "\[LeftDoubleBracket]", 
         RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"c", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
       " ", "=", " ", 
       RowBox[{"PadLeft", "[", 
        RowBox[{
         RowBox[{"c", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
         ",", " ", "nm"}], "]"}]}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{"flip", " ", "z"}], "-", 
        RowBox[{"axis", " ", "of", " ", "frame", " ", "and", " ", "COM"}]}], 
       " ", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"StringContainsQ", "[", 
         RowBox[{"n", ",", " ", "\"\<Left\>\""}], "]"}], ",", " ", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"b", "\[LeftDoubleBracket]", "6", "\[RightDoubleBracket]"}],
           " ", "=", " ", 
          RowBox[{"-", 
           RowBox[{
           "b", "\[LeftDoubleBracket]", "6", "\[RightDoubleBracket]"}]}]}], 
         ";", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"c", "\[LeftDoubleBracket]", 
           RowBox[{"2", ",", " ", "6"}], "\[RightDoubleBracket]"}], " ", "=", 
          " ", 
          RowBox[{"-", 
           RowBox[{"c", "\[LeftDoubleBracket]", 
            RowBox[{"2", ",", " ", "6"}], "\[RightDoubleBracket]"}]}]}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{"rotate", " ", "about", " ", "z", " ", 
           RowBox[{"b", "/", "c"}], " ", "product", " ", "of", " ", 
           "inertias", " ", "change", " ", "sign", " ", 
           RowBox[{"w", ".", "r", ".", "t"}], " ", "z", " ", "coord"}], 
          "*)"}], "\[IndentingNewLine]", 
         RowBox[{"R", " ", "=", " ", 
          RowBox[{"RotationMatrix", "[", 
           RowBox[{"\[Pi]", ",", " ", 
            RowBox[{"{", 
             RowBox[{"0", ",", " ", "0", ",", " ", "1"}], "}"}]}], "]"}]}], 
         ";", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"c", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}],
           " ", "=", " ", 
          RowBox[{"R", ".", 
           RowBox[{
           "c", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], ".", 
           RowBox[{"R", "\[Transpose]"}]}]}]}]}], "\[IndentingNewLine]", 
       "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"c", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
       " ", "=", " ", 
       RowBox[{"DiagonalMatrix", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", " ", "0", ",", " ", "1"}], "}"}], 
         RowBox[{"Diagonal", "[", " ", 
          RowBox[{"c", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}],
           "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"Flatten", "@", 
       RowBox[{"{", 
        RowBox[{"a", ",", " ", "b", ",", " ", "c"}], "}"}]}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.742163441017826*^9, 3.7421634557355165`*^9}, {
   3.742163491498642*^9, 3.7421637840559244`*^9}, {3.7421638332555437`*^9, 
   3.7421639405916553`*^9}, {3.7421641013441744`*^9, 3.742164172229761*^9}, {
   3.7421653643012652`*^9, 3.7421654294685116`*^9}, {3.7421663956675744`*^9, 
   3.7421664040107884`*^9}, {3.742168182457589*^9, 3.7421681961754208`*^9}, {
   3.7421686255781035`*^9, 3.742168647623394*^9}, {3.742169106447035*^9, 
   3.7421691068376465`*^9}, 3.742242059305898*^9, {3.7422440400842733`*^9, 
   3.7422440523646502`*^9}, {3.742308615285994*^9, 3.7423086276132293`*^9}, {
   3.742309640848301*^9, 3.742309659784455*^9}, {3.742315179165968*^9, 
   3.742315181337714*^9}, {3.742316659159217*^9, 3.7423166663461933`*^9}, {
   3.742317710053258*^9, 3.742317710740754*^9}, {3.7423393371832247`*^9, 
   3.7423393414016595`*^9}, {3.7423394351210775`*^9, 
   3.7423394454640927`*^9}, {3.7423394894609804`*^9, 
   3.7423395078659134`*^9}, {3.742351409309845*^9, 3.7423514317769976`*^9}, 
   3.7423515394880905`*^9, 3.742351625057283*^9, {3.74242759111827*^9, 
   3.742427610101297*^9}},
 CellLabel->"In[68]:=",ExpressionUUID->"1f086517-c812-4dc2-9cae-3aa54cb2030e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"WM", " ", "=", " ", 
   RowBox[{"<|", "|>"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WM", "[", "\"\<Pelvis\>\"", "]"}], " ", "=", " ", 
    RowBox[{"Link", "[", 
     RowBox[{
     "\"\<Pelvis\>\"", ",", " ", "Root", ",", " ", "\"\<pln\>\"", ",", " ", 
      "z3"}], "]"}]}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WM", "[", "\"\<Torso\>\"", "]"}], " ", "=", " ", 
    RowBox[{"Link", "[", 
     RowBox[{
     "\"\<Torso\>\"", ",", " ", "\"\<Pelvis\>\"", ",", " ", "\"\<rz\>\"", ",",
       " ", "\"\<LJC to CJC\>\""}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"WM", "[", "\"\<Left Thigh\>\"", "]"}], " ", "=", " ", 
   RowBox[{"Link", "[", 
    RowBox[{
    "\"\<Left Thigh\>\"", ",", " ", "\"\<Pelvis\>\"", ",", " ", "\"\<rz\>\"", 
     ",", " ", "\"\<LJC to HJC\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WM", "[", "\"\<Right Thigh\>\"", "]"}], " ", "=", " ", 
    RowBox[{"Link", "[", 
     RowBox[{
     "\"\<Right Thigh\>\"", ",", " ", "\"\<Pelvis\>\"", ",", " ", 
      "\"\<rz\>\"", ",", " ", "\"\<LJC to HJC\>\""}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"WM", "[", "\"\<Left Leg\>\"", "]"}], " ", "=", " ", 
   RowBox[{"Link", "[", 
    RowBox[{
    "\"\<Left Leg\>\"", ",", " ", "\"\<Left Thigh\>\"", ",", " ", 
     "\"\<rz\>\"", ",", " ", "\"\<HJC to KJC\>\""}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WM", "[", "\"\<Right Leg\>\"", "]"}], " ", "=", " ", 
    RowBox[{"Link", "[", 
     RowBox[{
     "\"\<Right Leg\>\"", ",", " ", "\"\<Right Thigh\>\"", ",", " ", 
      "\"\<rz\>\"", ",", " ", "\"\<HJC to KJC\>\""}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"WM", "[", "\"\<Left Foot\>\"", "]"}], " ", "=", " ", 
   RowBox[{"Link", "[", 
    RowBox[{
    "\"\<Left Foot\>\"", ",", " ", "\"\<Left Leg\>\"", ",", " ", "\"\<rz\>\"",
      ",", " ", "\"\<KJC to AJC\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WM", "[", "\"\<Right Foot\>\"", "]"}], " ", "=", " ", 
    RowBox[{"Link", "[", 
     RowBox[{
     "\"\<Right Foot\>\"", ",", " ", "\"\<Right Leg\>\"", ",", " ", 
      "\"\<rz\>\"", ",", " ", "\"\<KJC to AJC\>\""}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WM", "[", "\"\<Head & Neck\>\"", "]"}], " ", "=", " ", 
    RowBox[{"Link", "[", 
     RowBox[{
     "\"\<Head & Neck\>\"", ",", " ", "\"\<Torso\>\"", ",", " ", "\"\<rz\>\"",
       ",", " ", "z3"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"WM", "[", "\"\<Left Arm\>\"", "]"}], " ", "=", " ", 
   RowBox[{"Link", "[", 
    RowBox[{
    "\"\<Left Arm\>\"", ",", " ", "\"\<Torso\>\"", ",", " ", "\"\<rz\>\"", 
     ",", " ", "\"\<CJC to SJC\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WM", "[", "\"\<Right Arm\>\"", "]"}], " ", "=", " ", 
    RowBox[{"Link", "[", 
     RowBox[{
     "\"\<Right Arm\>\"", ",", " ", "\"\<Torso\>\"", ",", " ", "\"\<rz\>\"", 
      ",", " ", "\"\<CJC to SJC\>\""}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"WM", "[", "\"\<Left Forearm\>\"", "]"}], " ", "=", " ", 
   RowBox[{"Link", "[", 
    RowBox[{
    "\"\<Left Forearm\>\"", ",", " ", "\"\<Left Arm\>\"", ",", " ", 
     "\"\<rz\>\"", ",", " ", "\"\<SJC to EJC\>\""}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WM", "[", "\"\<Right Forearm\>\"", "]"}], " ", "=", " ", 
    RowBox[{"Link", "[", 
     RowBox[{
     "\"\<Right Forearm\>\"", ",", " ", "\"\<Right Arm\>\"", ",", " ", 
      "\"\<rz\>\"", ",", " ", "\"\<SJC to EJC\>\""}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"WM", "[", "\"\<Left Hand\>\"", "]"}], " ", "=", " ", 
   RowBox[{"Link", "[", 
    RowBox[{
    "\"\<Left Hand\>\"", ",", " ", "\"\<Left Forearm\>\"", ",", " ", 
     "\"\<rz\>\"", ",", " ", "\"\<SJC to EJC\>\""}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"WM", "[", "\"\<Right Hand\>\"", "]"}], " ", "=", " ", 
   RowBox[{"Link", "[", 
    RowBox[{
    "\"\<Right Hand\>\"", ",", " ", "\"\<Right Forearm\>\"", ",", " ", 
     "\"\<rz\>\"", ",", " ", "\"\<SJC to EJC\>\""}], "]"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.742162730646437*^9, 3.7421627995634556`*^9}, {
  3.7421628407636557`*^9, 3.7421629144771185`*^9}, {3.7421632372979193`*^9, 
  3.7421632893567324`*^9}, {3.742163384943672*^9, 3.742163428706179*^9}, {
  3.7421639632619348`*^9, 3.742164040442254*^9}, {3.74216423155369*^9, 
  3.7421642436934137`*^9}, {3.742166429196443*^9, 3.742166506362833*^9}, {
  3.7421665814824867`*^9, 3.742166583138609*^9}, {3.7421682534369297`*^9, 
  3.74216852735071*^9}, {3.7421687016351953`*^9, 3.74216876805235*^9}, {
  3.7421688025342646`*^9, 3.742168839203526*^9}, {3.7421689533047967`*^9, 
  3.742168970538002*^9}, {3.742169129976613*^9, 3.7421691306640635`*^9}, {
  3.7422426044477806`*^9, 3.742242605010279*^9}, {3.7447277097130814`*^9, 
  3.744727730711485*^9}},
 CellLabel->"In[69]:=",ExpressionUUID->"2860eb7c-855e-4d1b-91b6-3679e4f29afe"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"WM", "\[LeftDoubleBracket]", 
    RowBox[{"All", ",", " ", 
     RowBox[{"RBDindex", "[", "\"\<f[x]\>\"", "]"}]}], 
    "\[RightDoubleBracket]"}], " ", "=", " ", "0"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WM", "\[LeftDoubleBracket]", 
     RowBox[{"All", ",", " ", 
      RowBox[{"RBDindex", "[", "\"\<c[x]\>\"", "]"}]}], 
     "\[RightDoubleBracket]"}], " ", "=", " ", "0"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"WM", "\[LeftDoubleBracket]", 
    RowBox[{"All", ",", " ", 
     RowBox[{"RBDindex", "[", "\"\<f[z]\>\"", "]"}]}], 
    "\[RightDoubleBracket]"}], " ", "=", " ", "0"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"WM", "\[LeftDoubleBracket]", 
     RowBox[{"All", ",", " ", 
      RowBox[{"RBDindex", "[", "\"\<c[z]\>\"", "]"}]}], 
     "\[RightDoubleBracket]"}], " ", "=", " ", "0"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"POI", "\[LeftDoubleBracket]", 
    RowBox[{"All", ",", " ", "1"}], "\[RightDoubleBracket]"}], " ", "=", " ", 
   "0"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"POI", "\[LeftDoubleBracket]", 
     RowBox[{"All", ",", " ", "3"}], "\[RightDoubleBracket]"}], " ", "=", " ",
     "0"}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"feet", " ", "=", " ", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\"\<Left Foot\>\"", ",", " ", "\"\<Right Foot\>\""}], "}"}],
         ",", " ", 
        RowBox[{"{", 
         RowBox[{"z3", ",", " ", "z3"}], "}"}]}], "}"}], "\[Transpose]"}]}], 
    ";"}], "*)"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"feet", " ", "=", " ", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\"\<Left Leg\>\"", ",", " ", "\"\<Right Leg\>\""}], "}"}], 
      ",", " ", 
      RowBox[{"ConstantArray", "[", 
       RowBox[{
        RowBox[{"JC", "[", "\"\<KJC to AJC\>\"", "]"}], ",", " ", "2"}], 
       "]"}]}], "}"}], "\[Transpose]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"KeyDropFrom", "[", 
   RowBox[{"WM", ",", " ", 
    RowBox[{"{", 
     RowBox[{"\"\<Left Foot\>\"", ",", " ", "\"\<Right Foot\>\""}], "}"}]}], 
   "]"}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.742311916412396*^9, 3.742311966408825*^9}, {
   3.742312315821531*^9, 3.7423123676263266`*^9}, {3.7423124520265465`*^9, 
   3.742312609140407*^9}, {3.742312778336607*^9, 3.7423127794927225`*^9}, 
   3.7423130564261017`*^9, {3.7423131470782304`*^9, 3.742313211667389*^9}, {
   3.742313267022828*^9, 3.742313319675318*^9}, 3.7423134569616055`*^9, {
   3.7423136145441685`*^9, 3.7423136155909705`*^9}, {3.742313743495181*^9, 
   3.7423137862265015`*^9}, {3.7423153399227505`*^9, 3.7423153498751683`*^9}, 
   3.7423177583779316`*^9, 3.7423178527618465`*^9, 3.7423377694417768`*^9, 
   3.7423383625273843`*^9, {3.7423391546585646`*^9, 3.7423391614861884`*^9}, 
   3.7423406973095236`*^9, {3.7423408391657534`*^9, 3.7423408428998623`*^9}, 
   3.742346028410924*^9, {3.7423473586777167`*^9, 3.7423473830197363`*^9}, {
   3.7423478045418253`*^9, 3.7423478259465446`*^9}, {3.7423478571005917`*^9, 
   3.7423478621002283`*^9}, {3.742351675076928*^9, 3.7423516935570498`*^9}, {
   3.742427517373513*^9, 3.742427582150158*^9}, {3.742429671238858*^9, 
   3.742429718235579*^9}, 3.742492662628193*^9, 3.742505484513365*^9, 
   3.742506074922983*^9, {3.7425115123975782`*^9, 3.742511524771697*^9}, {
   3.7425125520375237`*^9, 3.7425125579746017`*^9}, {3.7425126144080896`*^9, 
   3.742512624938588*^9}, {3.742513618383411*^9, 3.742513624273609*^9}, 
   3.7425142142541466`*^9, 3.742515290648635*^9},
 CellLabel->"In[85]:=",ExpressionUUID->"3df9c830-6b47-417c-a9f7-07cc1995a5d9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["End Package", "Section",
 InitializationCell->True,
 CellChangeTimes->{{3.5914870039053636`*^9, 3.591487004222381*^9}, {
  3.672922910157816*^9, 
  3.6729229104546924`*^9}},ExpressionUUID->"632b512a-512e-471b-8eb1-\
a0a7b2398aca"],

Cell[BoxData[{
 RowBox[{"End", "[", "]"}], "\n", 
 RowBox[{"EndPackage", "[", "]"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6729231090809507`*^9, 3.6729231097997046`*^9}, 
   3.7505304563895392`*^9},ExpressionUUID->"5a7c29a1-505d-4a05-8b70-\
208f6339fe9d"]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
WindowSize->{718, 715},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
FrontEndVersion->"11.3 for Microsoft Windows (64-bit) (March 6, 2018)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 160, 3, 67, "Section",ExpressionUUID->"996c692c-ebf2-4ec1-9b5e-1c01a05d498e"],
Cell[743, 27, 3988, 57, 83, "Input",ExpressionUUID->"98c8779e-ffda-484e-b0c8-e98c7ad7c11e",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[4768, 89, 328, 5, 67, "Section",ExpressionUUID->"8d07251a-a46c-4645-bdeb-de6cbedcac53"],
Cell[5099, 96, 1542, 41, 121, "Input",ExpressionUUID->"dcebc895-bfc4-44bb-98c1-671afd1abee8",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[6678, 142, 366, 6, 67, "Section",ExpressionUUID->"5f74f35f-ddd0-4858-9ea4-f4d186a06abe"],
Cell[7047, 150, 6920, 161, 425, "Input",ExpressionUUID->"19ea9dc2-f670-4407-92be-5ec47acad264",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[14004, 316, 407, 6, 67, "Section",ExpressionUUID->"0702053b-35e1-44c8-9c28-bf99eb451934"],
Cell[14414, 324, 4873, 117, 539, "Input",ExpressionUUID->"3d8873ff-2b44-4b82-91d8-04a9165f3d18",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[19324, 446, 414, 6, 67, "Section",ExpressionUUID->"1aa3b79a-c56e-4664-a1cd-3612fe7cc7e8"],
Cell[19741, 454, 3867, 94, 425, "Input",ExpressionUUID->"42de7d82-384c-4865-853a-945459cae5a4",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[23645, 553, 411, 6, 67, "Section",ExpressionUUID->"f0f2763d-623f-4f79-beee-9ba7b909a7d2"],
Cell[24059, 561, 5765, 141, 634, "Input",ExpressionUUID->"d4047aa5-9d83-4233-b3a6-dba6ccdddd1d",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[29861, 707, 427, 6, 67, "Section",ExpressionUUID->"4d79654b-9369-4c59-8fcc-0971bd642143"],
Cell[30291, 715, 4363, 95, 273, "Input",ExpressionUUID->"240cc57c-c84e-4f24-b278-dff0981e6437",
 InitializationCell->True],
Cell[34657, 812, 4783, 111, 444, "Input",ExpressionUUID->"bc6b3446-474e-4baa-b292-9932279d74b0",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[39477, 928, 450, 7, 67, "Section",ExpressionUUID->"914aa82e-c1f3-468b-bdd4-34d75ead300d"],
Cell[39930, 937, 5447, 119, 445, "Input",ExpressionUUID->"1f086517-c812-4dc2-9cae-3aa54cb2030e",
 InitializationCell->True],
Cell[45380, 1058, 5568, 139, 482, "Input",ExpressionUUID->"2860eb7c-855e-4d1b-91b6-3679e4f29afe",
 InitializationCell->True],
Cell[50951, 1199, 3959, 92, 273, "Input",ExpressionUUID->"3df9c830-6b47-417c-a9f7-07cc1995a5d9",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[54947, 1296, 236, 5, 67, "Section",ExpressionUUID->"632b512a-512e-471b-8eb1-a0a7b2398aca",
 InitializationCell->True],
Cell[55186, 1303, 277, 6, 64, "Input",ExpressionUUID->"5a7c29a1-505d-4a05-8b70-208f6339fe9d",
 InitializationCell->True]
}, Open  ]]
}
]
*)

